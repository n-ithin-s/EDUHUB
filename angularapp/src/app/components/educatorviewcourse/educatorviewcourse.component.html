<app-adminnav></app-adminnav>
<div class="container">
  <h1>Courses</h1>
  <br>
  <hr>
  <br>
    <div class="in">
    <input type="text" id="search" [(ngModel)]="search" placeholder="Search..." (input)="searchData()"></div>
    <div class="ttt"><br>
      <div *ngIf="loader" class="loaderStyle" >
        <app-loader></app-loader>
      </div>
       <table *ngIf="!loader">
        <thead>
            <th class="thleft">S.No</th>
            <th>Title</th>
            <th>Description</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Category</th>
            <th>Level</th>
            <th class="thright">Action</th>
        </thead>
        <tbody>
            <tr *ngFor="let c of courses,index as i">
                <td>{{i+1}}</td>
                <td>{{c.title}}</td>
                <td>{{c.description}}</td>
                <td>{{c.courseStartDate}}</td>
                <td>{{c.courseEndDate}}</td>
                <td>{{c.category}}</td>
                <td>{{c.level}}</td>
                <td class="btn">
                    <button (click)="editCourse(c)" class="edit">Edit</button>&nbsp;
                    <button (click)="onSubmitCourse(c.courseid)" class="delete">Delete</button>&nbsp;
                    <button (click)="addMaterial(c.courseid)">Add Material</button>&nbsp;
                    <button (click)="viewMaterial(c.courseid)">View Material</button>&nbsp;
                </td>
            </tr>
        </tbody>
       </table>
    </div>
 
   
    <div *ngIf="showModal" class="modal">

      <div class="modal-content">

          <button (click)="closeModal()" class="close-button">Close</button>

          <h1><b>Materials</b></h1>

          <hr>

          <div class="card-container">

              <div *ngFor="let material of materials; index as i" class="card">

                  <h2><b>Course: {{material.course.title}}</b></h2>

                  <hr style="color: blue;">

                  <h3><b>{{material.title}}</b></h3>

                  <h4><b>Description:</b> {{material.description}}</h4>

                  <h4>URL: <a href="{{material.url}}" target="_blank">click here</a></h4>

                  <iframe [src]="getSafeUrl(material.youTube)" frameborder="0"></iframe>

                  <button (click)="onsubmit(material.materialId)" class="delete-button" >Delete</button>

              </div>

          </div>

      </div>

  </div>
</div>



<div *ngIf="showModal1" class="modal1">
  <div class="modal-content1">
    <h2>Are you sure you want to delete this material?</h2>
    <button (click)="deleteMaterial()" class="yes-enroll">Yes,Delete</button>
    <button (click)="cancelModal()">Cancel</button>
  </div>
</div>


<div *ngIf="showModal2" class="modal1">
  <div class="modal-content1">
    <h2>Are you sure you want to delete this course?</h2>
    <button (click)="deleteCourse()" class="yes-enroll">Yes,Delete</button>
    <button (click)="cancelModal()">Cancel</button>
  </div>
</div>